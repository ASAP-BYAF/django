{% extends "conan_db_app/base.html" %}
{% load static %}

{% block title %}キャラクター詳細{% endblock %}

{% block main %}
<main class="w-[80vw] mx-auto">
    <section class="flex justify-around" >
    {% comment %} 画像ありを試しましたがいまいちでした。<section class="flex justify-around bg-[url('/static/conan_db_app/images/bg_renga.jpg')] bg-[length:50%_50%]" > {% endcomment %}
        <img src="{% static 'conan_db_app/images/conan.jpg' %}" alt="conan" class="rounded-full border-solid border-8 border-amber-600 w-[20vw] h-[20vw]">
        <div>
            <p class="font-mono text-6xl text-center w-3/4 mx-auto my-7">{{data.name}}</p>
            <hr class="h-2 bg-amber-600 mb-7">
            <table class="w-[100vw] md:w-[25vw] font-mono text-center text-xl mx-auto">
                <tr>
                    <th>性別</th>
                    <td>{{data.gender}}</td>
                </tr>
                <tr>
                    <th>年齢</th>
                    <td>{{data.age}}</td>
                </tr>
                <tr>
                    <th>誕生日</th>
                    <td>{{data.birthday|date:"m/d" }}</td>
                </tr>
                <tr>
                    <th>職業</th>
                    <td>{{data.profession}}</td>
                </tr>
            </table>
        </div>
    </section>
    {% comment %} <div class="fixed bottom-[calc(50px-20vh+24px)] h-[20vh] w-[min(100vw,500px)] "> {% endcomment %}
        {% comment %} <label for="open_close" class="fixed right-1">△</label> {% endcomment %}
    <input id='open_close' type="checkbox" class="fixed peer"/>
    <div class="fixed bottom-[50px] h-[20vh] w-[100vw] md:w-[50vw] md:right-[25vw] peer-checked:bottom-[calc(50px-20vh+24px)]">
        <h2>
            補足    
            <label for="open_close">⇅</label>
        </h2>
        <article>{{data.complement}}</article>
    </div>
        <ul>
            <li class="hidden">{% comment %} ダミー。最初の Volume. を追加するときの頭の閉じタグに対応。 {% endcomment %}
                <ul class="hidden"> {% comment %} ダミー。最初の Volume. を追加するときの頭の閉じタグに対応。 {% endcomment %}
                    {% for item in data2 %}
                    {% ifchanged  item.volume.number %}
                        </ul></li><li>{{item.volume.number}} 巻<ul>
                    {% endifchanged %} 
                    <li>
                        {{item.number}} 話 ({{item.name}})
                    </li>
                    {% endfor %}
                </ul>
            </li>
        </ul>
</main>
{% endblock %}
